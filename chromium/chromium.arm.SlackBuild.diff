--- chromium.SlackBuild.orig	2025-09-05 07:50:59.000000000 +0200
+++ chromium.SlackBuild	2025-09-07 17:10:39.423211841 +0200
@@ -1,10 +1,10 @@
 #!/bin/bash
-# $Id: chromium.SlackBuild,v 1.494 2025/09/05 05:50:36 root Exp root $
+# $Id: chromium.SlackBuild,v 1.469 2025/05/02 14:36:30 root Exp root $
 # Copyright 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020, 2021, 2022, 2023, 2024, 2025  Eric Hameleers, Eindhoven, NL
 # All rights reserved.
 #
 #   Permission to use, copy, modify, and distribute this software for
-#   any purpose with or without fee is hereby granted, provided that
+######"""#   any purpose with or without fee is hereby granted, provided that
 #   the above copyright notice and this permission notice appear in all
 #   copies.
 #
@@ -21,421 +21,115 @@
 #   OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
 #   SUCH DAMAGE.
 #
+# Modified by Martin Östman (Minime) for slackware ARM (SARPI).
+#
 # -----------------------------------------------------------------------------
 #
 # Slackware SlackBuild script 
 # ===========================
 # By:              Eric Hameleers <alien@slackware.com>
-# For:             chromium
+# Modified by      Martin Östman (Minime) <slackware[at]slackwarelinux[dot]se>
+# For:             chromium/chromium-ungoogled
 # Descr:           Open Source version of Chrome Web Browser
 # URL:             http://www.chromium.org/
 # Build needs:     - ninja;
 #                  - nodejs >= 20.13.0
-#                  - gcc >= 8 , llvm >= 21 for bootstrapping gn;
+#                  - gcc >= 8 , llvm >= 16 for bootstrapping gn;
 #                  - nasm >= 2.14 (yasm no longer being used);
 #                  - cmake >= 3.30.1
 #                  - python3 >= 3.7, python3-setuptools;
 #                  - java runtime
 #                  - Internet access (for downloading toolchain bins)
 # Needs:       
-# Changelog:   
-# 31.0.1650.57-1:  18/nov/2013 by Eric Hameleers <alien@slackware.com>
-#                  * Initial build.
-# 31.0.1650.63-1:  18/Nov/2013 by Eric Hameleers <alien@slackware.com>
-# 31.0.1650.67-1:  19/dec/2013 by Eric Hameleers <alien@slackware.com>
-#                  * Update comes with several security fixes.
-# 32.0.1700.77-1:  14/jan/2014 by Eric Hameleers <alien@slackware.com>
-#                  * Update comes with several security fixes.
-# 32.0.1700.102-1: 29/jan/2014 by Eric Hameleers <alien@slackware.com>
-#                  * Update comes with several security fixes.
-# 32.0.1700.107-1: 04/feb/2014 by Eric Hameleers <alien@slackware.com>
-#                  * Update.
-# 33.0.1750.117-1: 21/feb/2014 by Eric Hameleers <alien@slackware.com>
-#                  * Update comes with several security fixes.
-# 33.0.1750.146-1: 04/mar/2014 by Eric Hameleers <alien@slackware.com>
-#                  * Update comes with several security fixes.
-# 33.0.1750.149-1: 11/mar/2014 by Eric Hameleers <alien@slackware.com>
-#                  * Update comes with several security fixes.
-# 33.0.1750.152-1: 18/mar/2014 by Eric Hameleers <alien@slackware.com>
-#                  * Update comes with several security fixes.
-# 34.0.1847.116-1: 09/apr/2014 by Eric Hameleers <alien@slackware.com>
-#                  * Update comes with several security fixes.
-# 34.0.1847.132-1: 25/apr/2014 by Eric Hameleers <alien@slackware.com>
-#                  * Update.
-# 34.0.1847.137-1: 14/may/2014 by Eric Hameleers <alien@slackware.com>
-#                  * Update.
-# 35.0.1916.114-1: 20/may/2014 by Eric Hameleers <alien@slackware.com>
-#                  * Update comes with several security fixes.
-# 35.0.1916.153-1: 10/jun/2014 by Eric Hameleers <alien@slackware.com>
-#                  * Update comes with several security fixes.
-# 36.0.1985.125-1: 16/jun/2014 by Eric Hameleers <alien@slackware.com>
-#                  * Update comes with several security fixes.
-#                    We can no longer download toolchain binaries in advance,
-#                    so the build will now require internet connectivity.
-# 36.0.1985.143-1: 12/aug/2014 by Eric Hameleers <alien@slackware.com>
-#                  * Update comes with security fixes, Chrome also comes with an
-#                    updated Flash plugin: 14.0.0.177.
-# 37.0.2062.94-1:  27/aug/2014 by Eric Hameleers <alien@slackware.com>
-#                  * Update comes with security fixes.
-#                    New: an embedded PDF viewer.
-# 37.0.2062.120-1: 09/sep/2014 by Eric Hameleers <alien@slackware.com>
-#                  * Update comes with security fixes, Chrome also comes with an
-#                    updated Flash plugin: 15.0.0.152.
-# 38.0.2125.101-1: 08/oct/2014 by Eric Hameleers <alien@slackware.com>
-#                  * Update comes with security fixes.
-# 38.0.2125.104-1: 18/oct/2014 by Eric Hameleers <alien@slackware.com>
-#                  * Update comes with security fixes. Chrome also updates its
-#                    Flash plugin to 15.0.0.189.
-# 38.0.2125.111-1: 28/oct/2014 by Eric Hameleers <alien@slackware.com>
-#                  * Update.
-# 38.0.2125.122-1: 11/nov/2014 by Eric Hameleers <alien@slackware.com>
-#                  * Update comes with security fixes. Chrome also updates its
-#                    Flash plugin to 15.0.0.223.
-# 39.0.2171.65-1:  17/nov/2014 by Eric Hameleers <alien@slackware.com>
-#                  * Update comes with security fixes.  See
-#                    http://googlechromereleases.blogspot.nl/2014/11/stable-channel-update_18.html
-# 39.0.2171.71-1:  26/nov/2014 by Eric Hameleers <alien@slackware.com>
-#                  * Update comes with security fixes. Chrome also updates its
-#                    Flash plugin to 15.0.0.239.
-# 39.0.2171.95-1:  09/dec/2014 by Eric Hameleers <alien@slackware.com>
-#                  * Update comes with security fixes. Chrome also updates its
-#                    Flash plugin to 16.0.0.235.
-# 39.0.2171.95-2:  01/jan/2015 by Eric Hameleers <alien@slackware.com>
-#                  * Add support for the WIdevine CDM plugin (i.e. Netflix playback)
-# 39.0.2171.99-1:  14/jan/2015 by Eric Hameleers <alien@slackware.com>
-#                  * New release accompanied by pepperflash 16.0.0.257. 
-# 40.0.2214.91-1:  21/jan/2015 by Eric Hameleers <alien@slackware.com>
-#                  * New release.
-# 40.0.2214.111-1: 06/feb/2015 by Eric Hameleers <alien@slackware.com>
-#                  * New release.
-# 41.0.2272.76-1:  05/mar/2015 by Eric Hameleers <alien@slackware.com>
-#                  * First release of Chromium 41 stable.
-# 41.0.2272.118-1: 02/apr/2015 by Eric Hameleers <alien@slackware.com>
-#                  * Security update.
-# 42.0.2311.90-1:  15/apr/2015 by Eric Hameleers <alien@slackware.com>
-#                  * First release of Chromium 42 stable.
-# 42.0.2311.135-1: 30/apr/2015 by Eric Hameleers <alien@slackware.com>
-#                  * Security update.
-# 43.0.2357.65-1:  20/may/2015 by Eric Hameleers <alien@slackware.com>
-#                  * Security update, first 43 version.
-# 43.0.2357.81-1:  29/may/2015 by Eric Hameleers <alien@slackware.com>
-#                  * Update.
-# 43.0.2357.124-1: 09/jun/2015 by Eric Hameleers <alien@slackware.com>
-#                  * Update.
-# 43.0.2357.125-1: 12/jun/2015 by Eric Hameleers <alien@slackware.com>
-#                  * Update.
-# 43.0.2357.125-2: 19/jun/2015 by Eric Hameleers <alien@slackware.com>
-#                  * Disable "OK Google" hotwording completely.
-# 43.0.2357.130-1: 22/jun/2015 by Eric Hameleers <alien@slackware.com>
-#                  * Update.
-# 43.0.2357.130-2: 25/jun/2015 by Eric Hameleers <alien@slackware.com>
-#                  * Fix broken password manager in KDE.
-# 43.0.2357.132-1: 08/jul/2015 by Eric Hameleers <alien@slackware.com>
-#                  * Update.
-# 43.0.2357.134-1: 15/jul/2015 by Eric Hameleers <alien@slackware.com>
-#                  * Update.
-# 44.0.2403.89-1:  22/jul/2015 by Eric Hameleers <alien@slackware.com>
-#                  * Update - first 44 release.
-# 44.0.2403.107-1: 25/jul/2015 by Eric Hameleers <alien@slackware.com>
-#                  * Update - emergency bugfix release.
-# 44.0.2403.155-1: 11/aug/2015 by Eric Hameleers <alien@slackware.com>
-#                  * Update.
-# 44.0.2403.157-1: 21/aug/2015 by Eric Hameleers <alien@slackware.com>
-#                  * Update.
-# 45.0.2454.85-1:  02/sep/2015 by Eric Hameleers <alien@slackware.com>
-#                  * Update - first 45 release.
-# 45.0.2454.93-1:  16/sep/2015 by Eric Hameleers <alien@slackware.com>
-#                  * Update.
-# 45.0.2454.101-1: 25/sep/2015 by Eric Hameleers <alien@slackware.com>
-#                  * Update.
-# 46.0.2490.71-1:  14/oct/2015 by Eric Hameleers <alien@slackware.com>
-#                  * First 46 release.
-# 46.0.2490.86-1:  22/nov/2015 by Eric Hameleers <alien@slackware.com>
-#                  * Security update.
-# 47.0.2526.73-1:  03/dec/2015 by Eric Hameleers <alien@slackware.com>
-#                  * First 47 release.
-# 48.0.2564.82-1:  24/jan/2016 by Eric Hameleers <alien@slackware.com>
-#                  * First 48 release.
-# 48.0.2564.97-1:  31/jan/2016 by Eric Hameleers <alien@slackware.com>
-#                  * Update.
-# 48.0.2564.109-1: 13/feb/2016 by Eric Hameleers <alien@slackware.com>
-#                  * Update.
-# 49.0.2623.75-1:  05/mar/2016 by Eric Hameleers <alien@slackware.com>
-#                  * First 49 release.  Binary plugins such as widevine and
-#                    pepperflash are no longer available for 32-bit since
-#                    Google stopped providing binaries for 32-bit Chrome.
-# 49.0.2623.108-1: 25/feb/2016 by Eric Hameleers <alien@slackware.com>
-#                  * Update.
-# 49.0.2623.112-1: 08/apr/2016 by Eric Hameleers <alien@slackware.com>
-#                  * Update.
-# 50.0.2661.75-1:  14/apr/2016 by Eric Hameleers <alien@slackware.com>
-#                  * First 50 release.
-# 50.0.2661.94-1:  29/apr/2016 by Eric Hameleers <alien@slackware.com>
-#                  * Security update.
-# 50.0.2661.102-1: 12/may/2016 by Eric Hameleers <alien@slackware.com>
-#                  * Security update.
-# 51.0.2704.63-1:  26/may/2016 by Eric Hameleers <alien@slackware.com>
-#                  * First 51 release.
-# 51.0.2704.84-1:  07/jun/2016 by Eric Hameleers <alien@slackware.com>
-#                  * Update.
-# 51.0.2704.103-1: 17/jun/2016 by Eric Hameleers <alien@slackware.com>
-#                  * Update.
-# 52.0.2743.82-1:  24/jul/2016 by Eric Hameleers <alien@slackware.com>
-#                  * Update.
-# 52.0.2743.116-1: 04/aug/2016 by Eric Hameleers <alien@slackware.com>
-#                  * Update.
-# 53.0.2785.92-1:  06/sep/2016 by Eric Hameleers <alien@slackware.com>
-#                  * First 53 release.
-# 53.0.2785.92-2:  12/sep/2016 by Eric Hameleers <alien@slackware.com>
-#                  * Apply patch required for Slackware 14.1.
-# 54.0.2840.90-1:  03/nov/2016 by Eric Hameleers <alien@slackware.com>
-#                  * First 54 release. Build system changed from gyp to gn.
-# 54.0.2840.100-1: 17/nov/2016 by Eric Hameleers <alien@slackware.com>
-#                  * Updated. Security fix. Removed the VAAPI patch because
-#                    several people have issues with it.
-# 55.0.2883.75-1:  12/dec/2016 by Eric Hameleers <alien@slackware.com>
-#                  * First 55 release.
-# 56.0.2924.76-1:  30/jan/2017 by Eric Hameleers <alien@slackware.com>
-#                  * First 56 release.
-# 56.0.2924.76-2:  25/feb/2017 by Eric Hameleers <alien@slackware.com>
-#                  * Built for Slackware 14.1 with some additional patches.
-# 57.0.2987.98-1:  14/mar/2017 by Eric Hameleers <alien@slackware.com>
-#                  * First 57 release.
-# 58.0.3029.96-1:  04/may/2017 by Eric Hameleers <alien@slackware.com>
-#                  * Update to 58.
-# 59.0.3071.86-1:  06/jun/2017 by Eric Hameleers <alien@slackware.com>
-#                  * Update to 59.
-# 60.0.3112.78-1:  25/jun/2017 by Eric Hameleers <alien@slackware.com>
-#                  * Update to 60.
-# 61.0.3163.79-1:  11/sep/2017 by Eric Hameleers <alien@slackware.com>
-#                  * Update to 61.
-# 61.0.3163.100-1: 25/sep/2017 by Eric Hameleers <alien@slackware.com>
-#                  * Security update.
-# 62.0.3202.62-1:  18/oct/2017 by Eric Hameleers <alien@slackware.com>
-#                  * Update to 62.
-# 62.0.3202.75-1:  27/oct/2017 by Eric Hameleers <alien@slackware.com>
-#                  * Update, switch compiler to clang instead of gcc.
-# 62.0.3202.94-1:  25/nov/2017 by Eric Hameleers <alien@slackware.com>
-#                  * Update.
-# 63.0.3239.108-1: 17/dec/2017 by Eric Hameleers <alien@slackware.com>
-#                  * Update to 63.
-# 63.0.3239.132-1: 07/jan/2018 by Eric Hameleers <alien@slackware.com>
-#                  * Update.
-# 64.0.3282.119-1: 26/jan/2018 by Eric Hameleers <alien@slackware.com>
-#                  * Update to 64.
-# 64.0.3282.119-2: 29/jan/2018 by Eric Hameleers <alien@slackware.com>
-#                  * Enable HEVC support.
-# 64.0.3282.140-1: 05/feb/2018 by Eric Hameleers <alien@slackware.com>
-#                  * Update.
-# 64.0.3282.186-1: 06/mar/2018 by Eric Hameleers <alien@slackware.com>
-#                  * Update.
-# 65.0.3325.146-1: 09/mar/2018 by Eric Hameleers <alien@slackware.com>
-#                  * Update to M65.
-# 65.0.3325.162-1: 16/mar/2018 by Eric Hameleers <alien@slackware.com>
-#                  * Update.
-# 65.0.3325.181-1: 31/mar/2018 by Eric Hameleers <alien@slackware.com>
-#                  * Update.
-# 66.0.3359.117-1: 25/apr/2018 by Eric Hameleers <alien@slackware.com>
-#                  * Update to M66.
-# 66.0.3359.139-1: 25/apr/2018 by Eric Hameleers <alien@slackware.com>
-#                  * Security update (CVE-2018-6118).
-# 66.0.3359.181-1: 18/may/2018 by Eric Hameleers <alien@slackware.com>
-#                  * Update.
-# 67.0.3396.62-1:  31/may/2018 by Eric Hameleers <alien@slackware.com>
-#                  * Update to M67.
-# 67.0.3396.79-1:  08/jun/2018 by Eric Hameleers <alien@slackware.com>
-#                  * Update.
-# 67.0.3396.99-1:  02/jul/2018 by Eric Hameleers <alien@slackware.com>
-#                  * Update.
-# 68.0.3440.84-1:  01/aug/2018 by Eric Hameleers <alien@slackware.com>
-#                  * Update to 68.
-# 69.0.3497.81-1:  05/sep/2018 by Eric Hameleers <alien@slackware.com>
-#                  * Update to 69.
-# 69.0.3497.100-1: 28/sep/2018 by Eric Hameleers <alien@slackware.com>
-#                  * Update, trying to fix pulseaudio.
-# 70.0.3538.67-1:  24/oct/2018 by Eric Hameleers <alien@slackware.com>
-#                  * Update to 70.
-# 70.0.3538.102-1: 11/nov/2018 by Eric Hameleers <alien@slackware.com>
-#                  * Update.
-# 71.0.3578.80-1:  05/dec/2018 by Eric Hameleers <alien@slackware.com>
-#                  * Update to M71.
-# 72.0.3626.81-1:  31/jan/2019 by Eric Hameleers <alien@slackware.com>
-#                  * Update to M72.
-# 72.0.3626.121-1: 03/mar/2019 by Eric Hameleers <alien@slackware.com>
-#                  * Update to 72.0.3626.121.
-# 73.0.3683.75-1:  15/mar/2019 by Eric Hameleers <alien@slackware.com>
-#                  * Update to M73.
-# 73.0.3683.75-2:  17/mar/2019 by Eric Hameleers <alien@slackware.com>
-#                  * Fix 32bit build.
-# 73.0.3683.86-1:  31/mar/2019 by Eric Hameleers <alien@slackware.com>
-#                  * Update.
-# 73.0.3683.103-1: 14/apr/2019 by Eric Hameleers <alien@slackware.com>
-#                  * Update.
-# 74.0.3729.108-1: 24/apr/2019 by Eric Hameleers <alien@slackware.com>
-#                  * Update to M74.
-# 74.0.3729.169-1: 22/may/2019 by Eric Hameleers <alien@slackware.com>
-#                  * Update.
-# 75.0.3770.80-1:  08/jun/2019 by Eric Hameleers <alien@slackware.com>
-#                  * Update to M75.
-# 75.0.3770.90-1:  13/jun/2019 by Eric Hameleers <alien@slackware.com>
-#                  * Update.
-# 75.0.3770.100-1: 20/jun/2019 by Eric Hameleers <alien@slackware.com>
-#                  * Update.
-# 75.0.3770.100-2: 20/jun/2019 by Eric Hameleers <alien@slackware.com>
-#                  * Fix HEVC support.
-# 75.0.3770.142-1: 15/jul/2019 by Eric Hameleers <alien@slackware.com>
-#                  * Update.
-# 76.0.3809.87-1:  31/jul/2019 by Eric Hameleers <alien@slackware.com>
-#                  * Update to M76.
-# 76.0.3809.132-1: 30/aug/2019 by Eric Hameleers <alien@slackware.com>
-#                  * Update.
-# 77.0.3865.75-1:  11/sep/2019 by Eric Hameleers <alien@slackware.com>
-#                  * Update to M77.
-# 77.0.3865.90-1:  11/sep/2019 by Eric Hameleers <alien@slackware.com>
-#                  * Security update.
-# 77.0.3865.120-1: 10/oct/2019 by Eric Hameleers <alien@slackware.com>
-#                  * Security update.
-# 78.0.3904.70-1:  10/oct/2019 by Eric Hameleers <alien@slackware.com>
-#                  * Update to M78.
-# 78.0.3904.87-1:  01/nov/2019 by Eric Hameleers <alien@slackware.com>
-#                  * Critical security update.
-# 78.0.3904.97-1:  11/nov/2019 by Eric Hameleers <alien@slackware.com>
-#                  * Security update.
-# 78.0.3904.108-1: 19/nov/2019 by Eric Hameleers <alien@slackware.com>
-#                  * Security update.
-# 79.0.3945.79-1:  11/dec/2019 by Eric Hameleers <alien@slackware.com>
-#                  * Security update.
-# 79.0.3945.88-1:  18/dec/2019 by Eric Hameleers <alien@slackware.com>
-#                  * Security update.
-# 79.0.3945.117-1: 08/jan/2020 by Eric Hameleers <alien@slackware.com>
-#                  * Security update.
-# 79.0.3945.130-1: 19/jan/2020 by Eric Hameleers <alien@slackware.com>
-#                  * Security update.
-# 80.0.3987.87-1:  05/feb/2020 by Eric Hameleers <alien@slackware.com>
-#                  * Update to M80.
-# 80.0.3987.106-1: 14/feb/2020 by Eric Hameleers <alien@slackware.com>
-#                  * Updated.
-# 80.0.3987.122-1: 27/feb/2020 by Eric Hameleers <alien@slackware.com>
-#                  * Updated.
-# 80.0.3987.132-1: 04/mar/2020 by Eric Hameleers <alien@slackware.com>
-#                  * Updated.
-# 80.0.3987.149-1: 18/mar/2020 by Eric Hameleers <alien@slackware.com>
-#                  * Updated.
-# 81.0.4044.92-1:  08/apr/2020 by Eric Hameleers <alien@slackware.com>
-#                  * Update to M81.
-# 81.0.4044.113-1: 16/apr/2020 by Eric Hameleers <alien@slackware.com>
-#                  * Updated.
-# 81.0.4044.122-1: 25/apr/2020 by Eric Hameleers <alien@slackware.com>
-#                  * Updated.
-# 81.0.4044.129-1: 29/apr/2020 by Eric Hameleers <alien@slackware.com>
-#                  * Updated.
-# 81.0.4044.138-1: 06/may/2020 by Eric Hameleers <alien@slackware.com>
-#                  * Updated.
-# 83.0.4103.61-1:  20/may/2020 by Eric Hameleers <alien@slackware.com>
-#                  * Update to M83.
-# 83.0.4103.97-1:  07/jun/2020 by Eric Hameleers <alien@slackware.com>
-#                  * Updated.
-# 83.0.4103.106-1: 16/jun/2020 by Eric Hameleers <alien@slackware.com>
-#                  * Updated.
-# 83.0.4103.116-1: 23/jun/2020 by Eric Hameleers <alien@slackware.com>
-#                  * Updated.
-#                    Add support for VAAPI. This is off by default but
-#                    can be enabled by adding '--ignore-gpu-blacklist' and
-#                    then one of '--use-gl=desktop' or '--use-gl=egl'.
-#                    See https://chromium.googlesource.com/chromium/src/+/master/docs/gpu/vaapi.md#VaAPI-on-Linux
-#                    for the intended usage (Intel VAAPI and MESA VAAPI).
-#                    To support Nvidia and other GPUs, patches would be needed.
-# 84.0.4147.89-1:  20/jul/2020 by Eric Hameleers <alien@slackware.com>
-#                  * Update to M84.
-# 84.0.4147.94-1:  23/jul/2020 by Eric Hameleers <alien@slackware.com>
-#                  * Updated. Use a newer nodejs to make the sources compile
-#                    on 32bit Slackware 14, plus this also fixes the
-#                    broken development tools.
-# 84.0.4147.105-1: 01/aug/2020 by Eric Hameleers <alien@slackware.com>
-#                  * Updated.
-# 85.0.4183.83-1:  28/aug/2020 by Eric Hameleers <alien@slackware.com>
-#                  * Update to M85.
-# 85.0.4183.102-1: 09/sep/2020 by Eric Hameleers <alien@slackware.com>
-#                  * Updated.
-# 85.0.4183.121-1: 22/sep/2020 by Eric Hameleers <alien@slackware.com>
-#                  * Updated.
-# 86.0.4240.75-1:  07/oct/2020 by Eric Hameleers <alien@slackware.com>
-#                  * Update to M86.
-# 86.0.4240.111-1: 22/oct/2020 by Eric Hameleers <alien@slackware.com>
-#                  * Updated.
-# 86.0.4240.183-1: 03/nov/2020 by Eric Hameleers <alien@slackware.com>
-#                  * Updated.
-# 86.0.4240.198-1: 13/nov/2020 by Eric Hameleers <alien@slackware.com>
-#                  * Updated.
-# 87.0.4280.66-1:  23/nov/2020 by Eric Hameleers <alien@slackware.com>
-#                  * Update to M87.
-# 87.0.4280.88-1:  03/dec/2020 by Eric Hameleers <alien@slackware.com>
-#                  * Updated.
-# 87.0.4280.141-1: 07/jan/2021 by Eric Hameleers <alien@slackware.com>
-#                  * Updated.
-# 88.0.4324.96-1:  21/jan/2021 by Eric Hameleers <alien@slackware.com>
-#                  * Update to M88.
-# 88.0.4324.146-1: 04/feb/2021 by Eric Hameleers <alien@slackware.com>
-#                  * Updated.
-# 88.0.4324.150-1: 06/feb/2021 by Eric Hameleers <alien@slackware.com>
-#                  * Updated.
-# 88.0.4324.182-1: 17/feb/2021 by Eric Hameleers <alien@slackware.com>
-#                  * Updated.
-# 88.0.4324.190-1: 23/feb/2021 by Eric Hameleers <alien@slackware.com>
-#                  * Updated.
-# 89.0.4389.72-1:  03/mar/2021 by Eric Hameleers <alien@slackware.com>
-#                  * Update to M89.
-# 89.0.4389.82-1:  07/mar/2021 by Eric Hameleers <alien@slackware.com>
-#                  * Updated.
-# 89.0.4389.90-1:  13/mar/2021 by Eric Hameleers <alien@slackware.com>
-#                  * Updated.
-# 89.0.4389.114-1: 31/mar/2021 by Eric Hameleers <alien@slackware.com>
-#                  * Updated.
-# 89.0.4389.128-1: 14/apr/2021 by Eric Hameleers <alien@slackware.com>
-#                  * Updated.
-# 90.0.4430.72-1:  15/apr/2021 by Eric Hameleers <alien@slackware.com>
-#                  * Update to M90.
-# 90.0.4430.93-1:  28/apr/2021 by Eric Hameleers <alien@slackware.com>
-#                  * Updated.
-# 90.0.4430.212-1: 11/may/2021 by Eric Hameleers <alien@slackware.com>
-#                  * Updated.
-# 91.0.4472.101-1: 11/jun/2021 by Eric Hameleers <alien@slackware.com>
-#                  * Update.
-# 91.0.4472.114-1: 19/jun/2021 by Eric Hameleers <alien@slackware.com>
-#                  * Update.
+# Changelog:
 # 92.0.4515.107-1: 22/jul/2021 by Eric Hameleers <alien@slackware.com>
 #                  * Update to M92.
 # 92.0.4515.131-1: 05/aug/2021 by Eric Hameleers <alien@slackware.com>
 #                  * Update.
 # 92.0.4515.159-1: 17/aug/2021 by Eric Hameleers <alien@slackware.com>
 #                  * Update.
+#                  30/aug/2021 by Minime <slackware[at]slackwarelinux[dot]se>
+#                  * Added lates patchset "92.0.4515.x"
+#                  * Repatched clang.toolchains.arm_i586.triple for ARM.
+#                  * Fixed chromium_conf for ARM
+#                  * Fixed target triple for arm.
+#                  * Fixed ARM sysroot path to libsqlite3.so, glibconfig.h,
+#                    dbus-arch-deps.h, graphene-config.h and incorrect
+#                    conf file "(arch)-linux-gnu.conf" in ARM system.
+#                  * Fixed compiling google's internal clang for ARM.
+#                  31/aug/2021 by Minime <slackware[at]slackwarelinux[dot]se>
+#                  * Fixed missing link to debias readelf for ARM.
+#                  2/sep/2021 by Minime <slackware[at]slackwarelinux[dot]se>
+#                  * Alienbob thought the code is messy, and i agree.
+#                    Started on some code cleanup.
+#                  * Removed eu-strip patch and rebuild of eu-strip as this
+#                    not needed.
+#                  * Cleaned up duplicate entries in chromium config array.
 # 93.0.4577.63-1:  01/sep/2021 by Eric Hameleers <alien@slackware.com>
 #                  * Update to M93. Add some mods that hopefully make building
 #                    on ARM platforms easier.
 # 93.0.4577.82-1:  13/sep/2021 by Eric Hameleers <alien@slackware.com>
 #                  * Update.
+# 93.0.4577.82-1:  20/sep/2021 by Minime <slackware[at]slackwarelinux[dot]se>
+#                  * Update to M93.
+#                  * Added latest patchsets for chromium-93.0.4577.8
+#                  * Fixed incorrect/missing softlink
+#                  * Added softlink cleanup
+#                  * Fixed Widevine support patch for ARM
+#                    https://www.linuxquestions.org/questions/slackware-arm-108/how-to-get-widevine-4-10-2252-0-working-on-slackware-arm-4175700846/
+#                  22/sep/2021 by Minime <slackware[at]slackwarelinux[dot]se>
+#                  * Fixed custom clang option, set default
+#                    to systems clang version
+#                  27/sep/2021 by Minime <slackware[at]slackwarelinux[dot]se>
+#                  * Merged script with AlienBOB´s slackbuild
+#                  * Fixed and adjusted script to my llvm build.
+#                  * Note: There will be an issue with Slackware ARMs
+#                          llvm/clang version as its missing lld.
+#                          This is one reason i make a custom llvm/clang package.
+#                  * cleared changelog history as its kind of irrelevant and old...
 # 94.0.4606.71-1:  02/oct/2021 by Eric Hameleers <alien@slackware.com>
 #                  * Update to M94.
+# 94.0.4606.81-1:  12/oct/2021 by Minime <slackware[at]slackwarelinux[dot]se>
+#                  * Update to M94.
+#                  * Needs llvm/clang 13, so system clang is no longer an option.
+#                  * Will build with python 3.9, but if upgraded to python 3.10
+#                    there will be issues. Need to revert package python 3.10 to 3.9.
 # 95.0.4638.69-1:  28/oct/2021 by Eric Hameleers <alien@slackware.com>
 #                  * Update to M95.
 # 96.0.4664.45-1:  15/nov/2021 by Eric Hameleers <alien@slackware.com>
 #                  * Update to M96.
+#                  06/dec/2021 by Minime <slackware[at]slackwarelinux[dot]se>
+#                  * Fixed chromium/ungoogled for ARM
 # 96.0.4664.93-1:  09/dec/2021 by Eric Hameleers <alien@slackware.com>
 #                  * Update.
 # 96.0.4664.110-1: 14/dec/2021 by Eric Hameleers <alien@slackware.com>
 #                  * Update.
+# 96.0.4664.110-1  21/dec/2021 by Minime <slackware[at]slackwarelinux[dot]se>
+#                  * bump version to 96.0.4664.110.
 # 97.0.4692.71-1:  05/jan/2022 by Eric Hameleers <alien@slackware.com>
 #                  * Update to M97.
+# 97.0.4692.71-1:  09/jan/2022 by Minime <slackware[at]slackwarelinux[dot]se>
+#                  * bump version to 97.0.4692.71.
 # 97.0.4692.99-1:  20/jan/2022 by Eric Hameleers <alien@slackware.com>
 #                  * Update.
+#                  27/jan/2022 by Minime <slackware[at]slackwarelinux[dot]se>
+#                  * Bump version fix chromium/ungoogled for ARM
 # 98.0.4758.80-1:  02/feb/2022 by Eric Hameleers <alien@slackware.com>
 #                  * Update to M98.
-# 98.0.4758.102-1:  16/feb/2022 by Eric Hameleers <alien@slackware.com>
+#                  04/feb/2022 by Minime <slackware[at]slackwarelinux[dot]se>
+#                  * Bump version fix chromium/ungoogled for ARM
+# 98.0.4758.102-1: 16/feb/2022 by Eric Hameleers <alien@slackware.com>
 #                  * Update.
+#                  17/feb/2022 by Minime <slackware[at]slackwarelinux[dot]se>
+#                  * Bump version fix chromium/ungoogled for ARM
 # 99.0.4844.51-1:  02/mar/2022 by Eric Hameleers <alien@slackware.com>
 #                  * Update to M99.
+# 99.0.4844.51-1:  09/mar/2022 by Minime <slackware[at]slackwarelinux[dot]se>
+#                  * Update to M99 fix chromium/ungoogled for ARM
 # 99.0.4844.74-1:  16/mar/2022 by Eric Hameleers <alien@slackware.com>
 #                  * Update.
+#                  17/mar/2022 by Minime <slackware[at]slackwarelinux[dot]se>
+#                  * Bump version fix chromium/ungoogled for ARM
 # 99.0.4844.82-1:  24/mar/2022 by Eric Hameleers <alien@slackware.com>
 #                  * Update.
 # 99.0.4844.84-1:  27/mar/2022 by Eric Hameleers <alien@slackware.com>
@@ -454,18 +148,40 @@
 #                  * Update.
 # 101.0.4951.64-1: 11/may/2022 by Eric Hameleers <alien@slackware.com>
 #                  * Update.
+#                  18/may/2022 by Minime <slackware[at]slackwarelinux[dot]se>
+#                  * Bump version fix chromium/ungoogled for ARM
 # 102.0.5005.61-1: 25/may/2022 by Eric Hameleers <alien@slackware.com>
 #                  * Update to M102.
+#                  27/may/2022 by Minime <slackware[at]slackwarelinux[dot]se>
+#                  * Bump version fix chromium/ungoogled for ARM.
+# 102.0.5005.61-3: 02/jun/2022 by Minime <slackware[at]slackwarelinux[dot]se>
+#                  * Ungoogled update.
+#                  - Fix bypassing ssl errors not being possible anymore (see #1976)
+#                  - Properly bump revision to 3 (see #1980)
+#                  - Fix the browser crashing when adding a search engine entry (see #1970)
+#                  - Add two flags to allow looking more like the tor browser (see #1920)
 # 102.0.5005.115-1:10/jun/2022 by Eric Hameleers <alien@slackware.com>
 #                  * Update.
+#                  12/jun/2022 by Minime <slackware[at]slackwarelinux[dot]se>
+#                  * Bump version fix chromium/ungoogled for ARM
+# 103.0.5060.53-1 :22/jun/2022 by Minime <slackware[at]slackwarelinux[dot]se>
+#                  * Update to M103 version fix chromium/ungoogled for ARM
 # 103.0.5060.53-1: 25/jun/2022 by Eric Hameleers <alien@slackware.com>
 #                  * Update to M103.
+# 103.0.5060.114-1 :12/jul/2022 by Minime <slackware[at]slackwarelinux[dot]se>
+#                  * Bump version fix chromium/ungoogled for ARM
+# 103.0.5060.134-1 :20/jul/2022 by Minime <slackware[at]slackwarelinux[dot]se>
+#                  * Bump version fix chromium/ungoogled for ARM
 # 103.0.5060.134-1:20/jul/2022 by Eric Hameleers <alien@slackware.com>
 #                  * Update.
 # 104.0.5112.79-1: 02/aug/2022 by Eric Hameleers <alien@slackware.com>
 #                  * Update to M104.
+#                  05/aug/2022 by Minime <slackware[at]slackwarelinux[dot]se>
+#                  * Update to M104 version fix chromium/ungoogled for ARM.
 # 104.0.5112.101-1:17/aug/2022 by Eric Hameleers <alien@slackware.com>
 #                  * Update.
+#                  19/aug/2022 by Minime <slackware[at]slackwarelinux[dot]se>
+#                  * Update version fix chromium/ungoogled for ARM.
 # 105.0.5195.52-1: 02/aug/2022 by Eric Hameleers <alien@slackware.com>
 #                  * Update to M105.
 # 105.0.5195.102-1:04/aug/2022 by Eric Hameleers <alien@slackware.com>
@@ -486,6 +202,8 @@
 #                  * Update.
 # 107.0.5304.110-1: 09/nov/2022 by Eric Hameleers <alien@slackware.com>
 #                  * Update.
+#                   15/nov/2022 by Minime <slackware[at]slackwarelinux[dot]se>
+#                  * Update version fix chromium/ungoogled for ARM. (Failed to build)
 # 107.0.5304.121-1: 25/nov/2022 by Eric Hameleers <alien@slackware.com>
 #                  * Update.
 # 108.0.5359.71-1: 02/dec/2022 by Eric Hameleers <alien@slackware.com>
@@ -504,40 +222,78 @@
 #                  * System libdrm on Slackware 14.2 is too old.
 # 109.0.5414.119-1: 25/jan/2023 by Eric Hameleers <alien@slackware.com>
 #                  * Update.
+#                  30/jan/2023 by Minime <slackware[at]slackwarelinux[dot]se>
+#                  * Update version fix chromium/ungoogled for ARM.
 # 110.0.5481.77-1: 09/feb/2023 by Eric Hameleers <alien@slackware.com>
 #                  * Update to M110.
+#                  09/feb/2023 by Minime <slackware[at]slackwarelinux[dot]se>
+#                  * Update M110, version fix chromium/ungoogled for ARM.
 # 110.0.5481.100-1:15/feb/2023 by Eric Hameleers <alien@slackware.com>
 #                  * Update.
+#                  19/feb/2023 by Minime <slackware[at]slackwarelinux[dot]se>
+#                  * Update, version fix chromium/ungoogled for ARM.
 # 110.0.5481.177-1:26/feb/2023 by Eric Hameleers <alien@slackware.com>
 #                  * Update.
+#                  26/feb/2023 by Minime <slackware[at]slackwarelinux[dot]se>
+#                  * Update, version fix chromium/ungoogled for ARM.
 # 111.0.5563.64-1: 09/mar/2023 by Eric Hameleers <alien@slackware.com>
 #                  * Update to M111.
+#                  09/mar/2023 by Minime <slackware[at]slackwarelinux[dot]se>
+#                  * version fix chromium/ungoogled for ARM.
 # 111.0.5563.110-1:23/mar/2023 by Eric Hameleers <alien@slackware.com>
 #                  * Update.
+#                  23/mar/2023 by Minime <slackware[at]slackwarelinux[dot]se>
+#                  * version fix chromium/ungoogled for ARM.
 # 111.0.5563.147-1:29/mar/2023 by Eric Hameleers <alien@slackware.com>
 #                  * Update.
+#                  01/apr/2023 by Minime <slackware[at]slackwarelinux[dot]se>
+#                  * version fix chromium/ungoogled for ARM.
 # 112.0.5615.49-1: 05/apr/2023 by Eric Hameleers <alien@slackware.com>
 #                  * Update to M112.
+#                  07/apr/2023 by Minime <slackware[at]slackwarelinux[dot]se>
+#                  * version fix chromium/ungoogled for ARM.
 # 112.0.5615.121-1:15/apr/2023 by Eric Hameleers <alien@slackware.com>
 #                  * Update.
+#                  16/apr/2023 by Minime <slackware[at]slackwarelinux[dot]se>
+#                  * version fix chromium/ungoogled for ARM.
 # 112.0.5615.165-1:20/apr/2023 by Eric Hameleers <alien@slackware.com>
 #                  * Update.
+#                  20/apr/2023 by Minime <slackware[at]slackwarelinux[dot]se>
+#                  * version fix chromium/ungoogled for ARM.
 # 113.0.5672.63-1: 03/may/2023 by Eric Hameleers <alien@slackware.com>
 #                  * Update to M113.
-# 113.0.5672.92-1: 15/may/2023 by Eric Hameleers <alien@slackware.com>
+#                  03/may/2023 by Minime <slackware[at]slackwarelinux[dot]se>
+#                  * version fix chromium/ungoogled for ARM.
+# 113.0.5672.92-1: 10/may/2023 by Minime <slackware[at]slackwarelinux[dot]se>
+#                  * Update.
+#                  * version fix chromium/ungoogled for ARM.
+#                  15/may/2023 by Eric Hameleers <alien@slackware.com>
 #                  * Update.
 # 113.0.5672.126-1:16/may/2023 by Eric Hameleers <alien@slackware.com>
 #                  * Update.
+#                  18/may/2023 by Minime <slackware[at]slackwarelinux[dot]se>
+#                  * version fix chromium/ungoogled for ARM.
 # 114.0.5735.45-1: 27/may/2023 by Eric Hameleers <alien@slackware.com>
 #                  * Update to M114.
 # 114.0.5735.90-1: 31/may/2023 by Eric Hameleers <alien@slackware.com>
 #                  * Update.
 # 114.0.5735.106-1:06/jun/2023 by Eric Hameleers <alien@slackware.com>
 #                  * Update.
+#                  15/jun/2023 by Minime <slackware[at]slackwarelinux[dot]se>
+#                  * version fix chromium/ungoogled for ARM. (Trying again)
 # 114.0.5735.133-1:13/jun/2023 by Eric Hameleers <alien@slackware.com>
 #                  * Update.
-# 114.0.5735.198-1:01/jul/2023 by Eric Hameleers <alien@slackware.com>
-#                  * Update.
+#                  17/jun/2023 by Minime <slackware[at]slackwarelinux[dot]se>
+#                  * version fix chromium/ungoogled for ARM.
+# 114.0.5735.198-1:27/jun/2023 by Minime <slackware[at]slackwarelinux[dot]se>
+#                  * Update version fix chromium/ungoogled for ARM.
+#                  01/jul/2023 by Eric Hameleers <alien@slackware.com>
+#                  * Update.
+#                  01/jul/2023 by Minime <slackware[at]slackwarelinux[dot]se>
+#                  * Fixed build for ARM of google's internal llvm/clang from source.
+#                     Should be possible to build now.
+#                  09/jul/2023 by Minime <slackware[at]slackwarelinux[dot]se>
+#                  * Fixed build for AArch64.
 # 115.0.5790.170-1:03/aug/2023 by Eric Hameleers <alien@slackware.com>
 #                  * Update to M115.
 # 116.0.5845.96-1: 16/aug/2023 by Eric Hameleers <alien@slackware.com>
@@ -691,10 +447,13 @@
 #                   * Update.
 # 136.0.7103.59-1:  01/may/2025 by Eric Hameleers <alien@slackware.com>
 #                   * Update to M136.
-# 136.0.7103.113-1: 15/may/2025 by Eric Hameleers <alien@slackware.com>
-#                   * Update.
+# 136.0.7103.113-1:  16/May/2025 by Minime <slackware[at]slackwarelinux[dot]se>
+#                   * Fixed build for AArch64
+#                   * Fixed build for ARM.
 # 137.0.7151.55-1:  27/may/2025 by Eric Hameleers <alien@slackware.com>
 #                   * Update to M137.
+#                   28/May/2025 by Minime <slackware[at]slackwarelinux[dot]se>
+#                   * Fixed build for AArch64
 # 137.0.7151.68-1:  03/jun/2025 by Eric Hameleers <alien@slackware.com>
 #                   * Update.
 # 137.0.7151.103-1: 12/jun/2025 by Eric Hameleers <alien@slackware.com>
@@ -717,23 +476,33 @@
 #                   * Update to M139.
 # 139.0.7258.127-1: 15/aug/2025 by Eric Hameleers <alien@slackware.com>
 #                   * Update.
+#                   18/aug/2025 by Minime <slackware[at]slackwarelinux[dot]se>
+#                   * Could not compile due to rust 1.89.0
 # 139.0.7258.138-1: 21/aug/2025 by Eric Hameleers <alien@slackware.com>
 #                   * Update.
+#                   22/aug/2025 by Minime <slackware[at]slackwarelinux[dot]se>
+#                   * rust downgraded from 1.89.0 to 1.88.0
+#                   * Fixed build for AArch64
 # 139.0.7258.154-1: 27/aug/2025 by Eric Hameleers <alien@slackware.com>
 #                   * Update.
+#                   28/aug/2025 by Minime <slackware[at]slackwarelinux[dot]se>
+#                   * Fixed build for AArch64
 # 140.0.7339.80-1:  04/sep/2025 by Eric Hameleers <alien@slackware.com>
 #                   * Update to M140.
-# 
+#                   07/sep/2025 by Minime <slackware[at]slackwarelinux[dot]se>
+#                   * Fixed build for ARM and AArch64
+#
 # -----------------------------------------------------------------------------
-# 
+#
 # Run 'sh chromium.SlackBuild' to build a Slackware package.
 # The package (.txz) and .txt file as well as build logs are created in /tmp .
 # Install it using 'installpkg'. 
 #
 # -----------------------------------------------------------------------------
 
-# Build an ungoogled chromium package (default no):
-USE_UNGOOGLED=${USE_UNGOOGLED:-0}
+
+# Build an ungoogled chromium package (default yes):
+USE_UNGOOGLED=${USE_UNGOOGLED:-1}
 
 # Build a development version of chromium (default no):
 USE_DEV=${USE_DEV:-0}
@@ -748,7 +517,7 @@
 VERSION=${VERSION:-140.0.7339.80}
 UNGOOGLED=${UNGOOGLED:-140.0.7339.80-1}
 BUILD=${BUILD:-1}
-TAG=${TAG:-alien}
+TAG=${TAG:-SLse}
 
 # Cross-compiling 32bit binaries on 64bit Slackware; set to "YES":
 CROSS32=${CROSS32:-"NO"}
@@ -837,8 +606,16 @@
 USE_CLANG=${USE_CLANG:-1}
 
 # Prefer using Google's custom clang as pre-built binaries or compile ourselves?
-# Possible values: 'src' or 'bin':
-GOOGLE_CLANG=${GOOGLE_CLANG:-"bin"}
+# Possible values: 'src', 'bin' or 'armbin':
+GOOGLE_CLANG=${GOOGLE_CLANG:-"armbin"}
+
+# If set GOOGLE_CLANG to 'src' and it's a ARM system
+# we will need to tell where we have our already bootstraped clang
+BOOTSTRAP_PATH="/opt/bootstrap-llvm"
+
+# If set GOOGLE_CLANG to 'armbin' and it's a ARM system
+# We will need to tell where we have our precompiled clang for ARM
+ARMBIN_PATH="/opt/llvm"
 
 # Build a custom clang or use the system clang?
 # CLANG_MIN is the minimal clang version needed to compile chromium,
@@ -964,14 +741,26 @@
              #DSSE="0"
              DSSE="1"
              ;;
+  aarch64)   SLKCFLAGS="-O2 -fPIC"
+             SLKLDFLAGS="-L/usr/lib64"; LIBDIRSUFFIX="64"
+             DSSE="1"
+             # VAAPI not supported:
+             USE_VAAPI=0
+             FFMPEG_ARCH="arm64"
+             SYSROOT_ARCH="arm64"
+             SYSROOT_TARGET="aarch64-linux-gnu"
+             PKGARCH="$ARCH"
+             ;;
   armv7*)    SLKCFLAGS="-O2 -march=armv7-a -mfpu=vfpv3-d16 -mfloat-abi=hard"
              SLKLDFLAGS="-Wl,-z,notext"; LIBDIRSUFFIX=""
              DSSE="1"
              # Widevine not supported (no binary library available):
-             USE_CDM=0
+             # However there are workarounds so why deny this?
+             # Added patch that enables widevine support for armv7
+             #USE_CDM=0
              # VAAPI not supported:
              USE_VAAPI=0
-             FFMPEG_ARCH="arm"
+             FFMPEG_ARCH="arm-neon"
              SYSROOT_ARCH="arm"
              SYSROOT_TARGET="arm-linux-gnueabihf"
              PKGARCH="$ARCH"
@@ -991,8 +780,8 @@
 esac
 
 case "$ARCH" in
-    armv7*)  TARGET=$ARCH-slackware-linux-gnueabi ;;
     arm*)    TARGET=${SYSROOT_ARCH}-slackware-linux-gnueabihf ;;
+    aarch64) TARGET=$ARCH-slackware-linux-gnu ;;
     *)       TARGET=$ARCH-slackware-linux ;;
 esac
 
@@ -1092,12 +881,26 @@
   done
 fi
 
+if [ ${USE_SYSROOT} -eq 1 ] && [[ "$ARCH" =~ arm.* ]]; then
+  # Download a sysroot image to build Chromium:
+  echo "-- Downloading sysroot image for ${SYSROOT_ARCH}"
+  python3 build/linux/sysroot_scripts/install-sysroot.py --arch=${SYSROOT_ARCH}
+fi
+
 # Allow building against system libraries in official builds:
 sed -e 's/OFFICIAL_BUILD/GOOGLE_CHROME_BUILD/' \
   -i tools/generate_shim_headers/generate_shim_headers.py
 
 # Patches and bug fixes:
 touch $OUTPUT/patch-${PRGNAM}.log
+# Upstream Patches 137
+#cat $SRCDIR/patches/arch/disable-clang-fextend-variable-liveness.patch \
+#  | patch -p1 --verbose 2>&1 | tee -a $OUTPUT/patch-${PRGNAM}.log
+#cat $SRCDIR/patches/chromium-137-pdfium-system-libpng.patch \
+#  | patch -p1 --verbose 2>&1 | tee -a $OUTPUT/patch-${PRGNAM}.log
+#cat $SRCDIR/patches/chromium-137-openh264-include-path.patch \
+#  | patch -p1 --verbose 2>&1 | tee -a $OUTPUT/patch-${PRGNAM}.log
+
 # https://bugs.gentoo.org/949654 - 'Aw,snap!' on certain pages with glibc-2.41
 cat $SRCDIR/patches/chromium_glibc241_map_droppable.patch \
   | patch -p1 --verbose \
@@ -1106,16 +909,28 @@
 cat $SRCDIR/patches/chromium-138-nodejs-version-check.patch \
   | patch -p1 --verbose \
   2>&1 | tee -a $OUTPUT/patch-${PRGNAM}.log
-## Fix build using rust 1.89:
-#cat $SRCDIR/patches/chromium_rust189_mismatched_lifetime_syntaxes.patch \
+# https://issues.chromium.org/issues/424424323
+#cat $SRCDIR/patches/rust_lifetime_424424323.patch \
 #  | patch -p1 --verbose \
 #  2>&1 | tee -a $OUTPUT/patch-${PRGNAM}.log
 
+# Needed for chromium 135-136
+#cat $SRCDIR/patches/gentoo/fix_build_with_gperf.patch \
+#  | patch -p1 --verbose \
+#  2>&1 | tee -a $OUTPUT/patch-${PRGNAM}.log
+
+# archlinux contribution:
+# Fixes widevine support for arm
+cat $SRCDIR/patches/arch/widevine_support_for_arm.patch \
+  | patch -p1 --verbose 2>&1 | tee -a $OUTPUT/patch-${PRGNAM}.log
+
 if [ ${USE_CLANG} -eq 1 ] && [ ${BUILD_CLANG} -eq 0 ]; then
   # Adjust expectations about where to find the clang libs on Slackware:
   cat $SRCDIR/patches/chromium-134-bindgen-custom-toolchain.patch \
     | patch -p1 --verbose 2>&1 | tee -a $OUTPUT/patch-${PRGNAM}.log
-  cat $SRCDIR/patches/compiler-rt-adjust-paths.patch | patch -p1 --verbose \
+  # Was for chromium 137
+  #cat $SRCDIR/patches/compiler-rt-adjust-paths.patch | patch -p1 --verbose \
+  cat $SRCDIR/patches/compiler-rt-adjust-paths-139.patch | patch -p1 --verbose \
     2>&1 | tee -a $OUTPUT/patch-${PRGNAM}.log
   sed -i build/config/clang/BUILD.gn \
     -e "s,clang_base_path/lib/clang/,clang_base_path/lib${LIBDIRSUFFIX}/clang/,"
@@ -1309,14 +1124,29 @@
 #sed -i tools/clang/scripts/update.py -e "s/RELEASE_VERSION = '16'/RELEASE_VERSION = '16.0.0'/"
 
 # ARM platform specifics:
+# If ARM, then try to force the build script to build clang for arm instead of x86
+# Note: This will most likely fail as it does not detect the correct target architecture.
+# One of many reasons i built chromium's llvm package separately.
 if [[ "$ARCH" =~ arm.* ]]; then
+  # Can't run tests on x86 host.
+  sed -i tools/clang/scripts/build.py \
+      -e "s/sysroot_amd64,/sysroot_arm, \n            \x27LLVM_INCLUDE_TESTS=OFF\x27,/"
+  # We want to compile for ARM and not AMD64
+  sed -i tools/clang/scripts/build.py \
+      -e "s/sysroot_amd64\([,)]\)/sysroot_arm\1/"
+
+  # Non-functional vpython in the 32bit depot_tools:
+  #export VPYTHON_BYPASS="manually managed python not supported by chrome operations"
+
+  # We are compiling bootstrap for ARM and not X86.
   # Fix the hard-coded bootstrap target 'X86':
   sed -i tools/clang/scripts/build.py \
     -e "s/bootstrap_targets = 'X86'/bootstrap_targets = 'ARM'/"
-
-  # Compile only the relevant back-ends (ARM, AArch64 and X86):
+  # We are using ARM, so to speed things up we only build the relevant back-ends
+  # (ARM,AArch64 and x86), since it’s very unlikely that we will cross-compile to other arches.
+  # x86 is also needed for Compiler-RT tests.
   sed -i tools/clang/scripts/build.py \
-    -e "s/\(^ *targets = \).*$/\1'ARM;X86;AArch64'/"
+    -e "s/targets = 'AArch64;ARM;LoongArch;Mips;PowerPC;RISCV;SystemZ;WebAssembly;X86'/targets = 'ARM;X86;AArch64'/"
 fi
 
 ## When compiling google's clang, use the system cmake
@@ -1376,7 +1206,8 @@
 [ ${USE_SYSROOT} -eq 1 ] && do_syslibs=false || do_syslibs=true
 [ ${USE_VAAPI} -eq 1 ] && do_vaapi=true || do_vaapi=false
 [ ${USE_WAYLAND} -eq 1 ] && do_wayland=true || do_wayland=false
-[ ${FFMPEG_HEVC} -eq 1 ] && do_hevc=true || do_hevc=false 
+[ ${FFMPEG_HEVC} -eq 1 ] && do_hevc=true || do_hevc=false
+
 
 export LDFLAGS="$SLKLDFLAGS"
 export CXXFLAGS="$SLKCFLAGS -Wno-unknown-warning-option"
@@ -1384,7 +1215,11 @@
 export PATH="$TMP/tmp-$PRGNAM/privatebin:$TMP/tmp-$PRGNAM/${SRCNAM}-${VERSION}/third_party/depot_tools:$PATH"
 
 if [ ${USE_SYSROOT} -eq 1 ]; then
-  SYSROOTDIR=$(basename $(ls $TMP/tmp-$PRGNAM/${SRCNAM}-${VERSION}/build/linux/ |grep ${SYSROOT_ARCH}-sysroot))
+  if [[ "$ARCH" =~ arm.* ]]; then
+    SYSROOTDIR=$(basename $(ls $TMP/tmp-$PRGNAM/${SRCNAM}-${VERSION}/build/linux/ |grep ${SYSROOT_ARCH}hf-sysroot))
+  else
+    SYSROOTDIR=$(basename $(ls $TMP/tmp-$PRGNAM/${SRCNAM}-${VERSION}/build/linux/ |grep ${SYSROOT_ARCH}-sysroot))
+  fi
   export CFLAGS="$CFLAGS -I$TMP/tmp-$PRGNAM/${SRCNAM}-${VERSION}/build/linux/${SYSROOTDIR}/usr/include/${SYSROOT_TARGET}/qt5"
   export CXXFLAGS="$CXXFLAGS -I$TMP/tmp-$PRGNAM/${SRCNAM}-${VERSION}/build/linux/${SYSROOTDIR}/usr/include/${SYSROOT_TARGET}/qt5"
 else
@@ -1462,7 +1297,7 @@
   'dcheck_always_on=false'
 )
 
-if [ "$ARCH" == "x86_64" ]; then
+if [ "$ARCH" == "x86_64" ] || [ "$ARCH" == "aarch64" ]; then
   # Speed up the build:
   _chromium_conf+=(
     'use_thin_lto=true'
@@ -1472,7 +1307,8 @@
 else
   # Thin LTO requires more than 4 GB of RAM, skip it on 32bit:
   _chromium_conf+=(
-    'use_thin_lto=false' 'concurrent_links=1'
+    'use_thin_lto=false'
+    'concurrent_links=1'
   )
 fi
 
@@ -1520,6 +1356,9 @@
 if [[ "$ARCH" =~ arm.* ]]; then
   _chromium_conf+=( 'target_cpu="arm"' 'v8_target_cpu="arm"' 'target_os="linux"' )
 fi
+if [[ "$ARCH" == "aarch64" ]]; then
+  _chromium_conf+=( 'target_cpu="arm64"' 'v8_target_cpu="arm64"' 'target_os="linux"' )
+fi
 
     # Change this back when CRBUG 592268 is fixed (error during final link:
     # undefined reference to `base::i18n::GetRawIcuMemory())
@@ -1597,8 +1436,13 @@
 
 if [ ${USE_SYSROOT} -eq 1 ]; then
   # Take care of Debian/Ubuntu related missing header issues:
-  SYSROOTDIR=$(basename $(ls build/linux/ |grep ${SYSROOT_ARCH}-sysroot))
+  if [[ "$ARCH" =~ arm.* ]]; then
+    SYSROOTDIR=$(basename $(ls build/linux/ |grep ${SYSROOT_ARCH}hf-sysroot))
+  else
+    SYSROOTDIR=$(basename $(ls build/linux/ |grep ${SYSROOT_ARCH}-sysroot))
+  fi
 
+  # Take care of Debian/Ubuntu related linker issues:
   ln -s ../../lib/${SYSROOT_TARGET}/glib-2.0/include/glibconfig.h \
     build/linux/${SYSROOTDIR}/usr/include/glib-2.0/glibconfig.h
   ln -s ../../../lib/${SYSROOT_TARGET}/dbus-1.0/include/dbus/dbus-arch-deps.h \
@@ -1606,9 +1450,6 @@
   ln -s ../../lib/${SYSROOT_TARGET}/graphene-1.0/include/graphene-config.h \
     build/linux/${SYSROOTDIR}/usr/include/graphene-1.0/graphene-config.h
 
-  # Take care of Debian/Ubuntu related linker issues:
-  #echo "/usr/lib/${SYSROOT_TARGET}/nss" >> \
-  #  build/linux/${SYSROOTDIR}/etc/ld.so.conf.d/${SYSROOT_TARGET}.conf
   for SOFILE in build/linux/${SYSROOTDIR}/usr/lib/${SYSROOT_TARGET}/nss/*.so ;
   do
     ln -sf nss/$(basename $SOFILE) \
@@ -1625,17 +1466,6 @@
   fi
 
   unset SYSROOTDIR
-#else
-#  if ! pkg-config --atleast-version 1.14 libva; then
-#    # The libva-1.14 release introduced an av1 encoder interface,
-#    # so we remove that capability if our libva is too old (Slackware 15.0):
-#    cat $SRCDIR/patches/chromium_av1-vaapi.patch \
-#      | patch -p1 --verbose \
-#      2>&1 | tee -a $OUTPUT/patch-${PRGNAM}.log
-#    cat $SRCDIR/patches/chromium_av1-vaapi2.patch \
-#      | patch -p1 --verbose \
-#      2>&1 | tee -a $OUTPUT/patch-${PRGNAM}.log
-#  fi
 fi
 
 # Do not make the build fail on stripping chromedriver,
@@ -1691,23 +1521,46 @@
   export CFLAGS=""
   export CXXFLAGS=""
   export LDFLAGS=""
-  python3 tools/clang/scripts/build.py \
-    --bootstrap \
-    --skip-checkout \
-    --pic \
-    --disable-asserts \
-    --host-cc /usr/bin/gcc \
-    --host-cxx /usr/bin/g++ \
-    --use-system-cmake \
-    --no-tools \
-    --without-android \
-    --without-fuchsia \
-    --without-zstd \
-    2>&1 | tee $OUTPUT/clang_build-${PRGNAM}.log
-    #--llvm-force-head-revision \
-    #--gcc-toolchain /usr \
-    #--host-cc /usr/bin/clang \
-    #--host-cxx /usr/bin/clang++ \
+  # As it's not possible to compile clang with gcc since version 12.x
+  # and its not possble to compile clang version 21.x with clang version 13.x
+  # (Slackware ARM's systems clang version).
+  # We will have to use our own bootstraped clang 18.x, then it's no need
+  # to bootstrap clang onece again, so we jump this step.
+  # And wile we are at it, we also drop compiling clang with pic enabled.
+  if [[ "$ARCH" =~ arm.* ]]; then
+    python3 tools/clang/scripts/build.py \
+      --skip-checkout \
+      --disable-asserts \
+      --host-cc ${BOOTSTRAP_PATH}/clang \
+      --host-cxx ${BOOTSTRAP_PATH}/clang++ \
+      --use-system-cmake \
+      --no-tools \
+      --without-android \
+      --without-fuchsia \
+      --without-zstd \
+      2>&1 | tee $OUTPUT/clang_build-${PRGNAM}.log
+  # If arch is not ARM then we proceed as usual
+  # Note, this will not work as it isn't possible to compile
+  # clang with gcc since clang 12.x
+  else
+    python3 tools/clang/scripts/build.py \
+      --bootstrap \
+      --skip-checkout \
+      --pic \
+      --disable-asserts \
+      --host-cc /usr/bin/gcc \
+      --host-cxx /usr/bin/g++ \
+      --use-system-cmake \
+      --no-tools \
+      --without-android \
+      --without-fuchsia \
+      --without-zstd \
+      2>&1 | tee $OUTPUT/clang_build-${PRGNAM}.log
+      #--llvm-force-head-revision \
+      #--gcc-toolchain /usr \
+      #--host-cc /usr/bin/clang \
+      #--host-cxx /usr/bin/clang++ \
+  fi
 
   # Building gn for Chromium 110 fails when this file is not present:
   if [ ! -f third_party/llvm-build/Release+Asserts/cr_build_revision ]; then
@@ -1748,6 +1601,21 @@
   # Ensure that only this new rust is used, ignoring the system version:
   MYRUST_PATH="$TMP/tmp-$PRGNAM/${SRCNAM}-${VERSION}/third_party/rust-toolchain"
   export PATH="$MYRUST_PATH:$PATH"
+ elif [ "${GOOGLE_CLANG}" == "armbin" ]; then
+  # Ensure that only this new clang is used, ignoring the system version:
+  MYCLANG_PATH="$ARMBIN_PATH/bin"
+  export PATH="$MYCLANG_PATH:$PATH"
+
+  # Next, build Rust against our custom compiler:
+  LDFLAGS="$LDFLAGS" \
+  python3 tools/rust/build_rust.py \
+    --skip-llvm-build \
+    --use-system-cmake \
+    2>&1 | tee $OUTPUT/rust_build-${PRGNAM}.log
+
+  # Ensure that only this new rust is used, ignoring the system version:
+  MYRUST_PATH="$TMP/tmp-$PRGNAM/${SRCNAM}-${VERSION}/third_party/rust-toolchain"
+  export PATH="$MYRUST_PATH:$PATH"
  else
   # Download prebuilt llvm and rust binaries instead of compiling them:
   python3 tools/rust/update_rust.py
@@ -1885,6 +1753,14 @@
       "rustc_version=\"$(rustc --version |cut -d' ' -f2)\""
     )
 
+    # Make bindgen find the gcc includes:
+    # Should fix aarch64 bindgen error like:
+    # FAILED: gen/third_party/crabbyavif/crabbyavif_dav1d_bindings/dav1d_bindgen.rs
+    #if [ "$ARCH" == "aarch64" ]; then
+    #  export BINDGEN_EXTRA_CLANG_ARGS="-I/usr/include -I/usr/lib${LIBDIRSUFFIX}/gcc/${TARGET}/$(gcc -dumpversion)/include"
+    #else
+    #  export BINDGEN_EXTRA_CLANG_ARGS="-I/usr/include -I/usr/lib/gcc/${TARGET}/$(gcc -dumpversion)/include"
+    #fi
 fi
 
 if [ ${USE_CLANG} -eq 1 ] && [ ${BUILD_CLANG} -eq 1 ]; then
@@ -1930,8 +1806,7 @@
   chrome chrome_sandbox chromedriver \
   2>&1 | tee $OUTPUT/ninja-${PRGNAM}.log
 
-if [ $USE_UNGOOGLED -eq 0 ] &&  [ ! -f out/Release/chrome_crashpad_handler ]
-then
+if [ $USE_UNGOOGLED -eq 0 ] &&  [ ! -f out/Release/chrome_crashpad_handler ]; then
   # ungoogled-chromium has crash-reporting disabled:
   LIBCLANG_PATH="/usr/lib${LIBDIRSUFFIX}" \
   LDFLAGS="$LDFLAGS" \
@@ -2069,6 +1944,17 @@
 install -D -m0644 out/Release/${PRGNAM}.desktop \
   $PKG/usr/share/applications/${PRGNAM}.desktop
 
+# Fix user-agent for ARM and aarch64
+if [[ "$ARCH" =~ arm.* ]] || [ "$ARCH" == "aarch64" ]; then
+  MAJOR_VER="$(echo ${VERSION} | cut -d. -f1)"
+  cp out/Release/${PRGNAM}.desktop out/Release/${PRGNAM}-netflix.desktop
+  sed -i out/Release/${PRGNAM}-netflix.desktop \
+    -e "s/Name\=Chromium-ungoogled Web Browser/Name\=Chromium-ungoogled Netflix/" \
+    -e "s/\/${PRGNAM}/\/${PRGNAM} \-\-user-agent=\"Mozilla\/5.0 \(X11; CrOS ${ARCH} 10895.56.0\) AppleWebKit\/537.36 \(KHTML, like Gecko\) Chrome\/${MAJOR_VER}.0.0.0 Safari\/537.36\"/"
+  install -D -m0644 out/Release/${PRGNAM}-netflix.desktop \
+    $PKG/usr/share/applications/${PRGNAM}-netflix.desktop
+fi
+
 # Install desktop icons:
 for size in 16 32; do
   install -D -m0644 \
@@ -2113,7 +1999,7 @@
   -e "s/@CRFLAGS@/${CRFLAGS}/g" \
   -e "s/@CRUSERFLAGS@/${CRUSERFLAGS}/g" \
   -e "s/@LIBDIRSUFFIX@/${LIBDIRSUFFIX}/g" \
-  -e "s/@BUILDER@/Built by alienBOB for Slackware/g" \
+  -e "s/@BUILDER@/Built by Minime for Slackware ${ARCH}/g" \
   > $PKG/etc/${PRGNAM}/00-default.conf.new
 
 if [ $USE_UNGOOGLED -eq 0 ]; then
@@ -2216,5 +2102,15 @@
 cd -
 cat $PKG/install/slack-desc | grep "^${PRGNAM}" > $OUTPUT/${PRGNAM}-${VERSION}-${PKGARCH}-${BUILD}${TAG}.txt
 
+# Cleanup
+if [ "${GOOGLE_CLANG}" == "src" ] && [  ${BUILD_CLANG} -eq 1 ]; then
+  if  [ -f ${MYCLANG_PATH}/ld ]; then
+    rm ${MYCLANG_PATH}/ld
+  fi
+fi
+if [ -f /usr/bin/${SYSROOT_TARGET}-readelf ]; then
+  rm /usr/bin/${SYSROOT_TARGET}-readelf
+fi
+
 # Restore the original umask:
 umask ${_UMASK_}
